### --- ---- ---- ---- ###
 | MISCELLANEOUS POINTS |
### --- ---- ---- ---- ###

# $ is an operator for pulling out a particular vector or part of a dataframe/dataset

### --- ---- --- ###
 | BASIC COMMANDS |
### --- ---- --- ###

install.packages(<package_name>)           #install an R package e.g. "gpairs" or "mediation" (install once)
                                           #other packages: "devtools"
install_github(<package_name>)             #with devtools: install from github
library(<package_name>)                    #load the package (every time you use R)

### --- --- ###
 | MODELLING |
### --- --- ###

# run a simple linear regression on the object anscombe | lm() function stands for linear model 
mod.fit <- lm(y1 ~ x1, data=anscombe)

### --- ---- --- --- ###
 | DATA VISUALISATION |
### --- ---- --- --- ###

hist(iris$Petal.Length)                                     #histogram
boxplot(<dependent variable> ~ <independent variables>      #boxplot

#plot commands


##more plotting - plotting different species onto different types of bullets (pch)

plot (iris$Sepal.Length, iris$Sepal.Width, pch = as.numeric(iris$Species), xlab = "Sepal Length", ylab = "Sepal Width")

## plus a legend with the legend function and the concatenate command: c() which creates a vector

legend("topright", pch = c(1,2,3), legend = c("setosa","versicolor","vriginica"))


#ploting a chart with the plot() function
plot(anscombex$1,anscombey$1)
abline(mod.fit) #mod.fit is a variable and the assignment operator is <-
summary(mod.fit) [gives summary table for the variable]

#now trying with different variables from the anscombe dataset/object - y3 and x3

mod.fit2 <- lm(y3 ~ x3, data = anscombe)

#EDA with the iris data

summary(iris)
head(iris, 20)
head(iris$Sepal.Length) # will return the head of the Sepal.Length Column/Vector in the iris DataFrame/Table
hist(iris$Petal.Length) # histogram

#extracting a factor mean, not a grand mean (e.g. - for the Iris Setosa species)
mean(iris$Sepal.Length[iris$Species == "setosa"]) ## the square [] brackets contain a statement that must be evaluated true for the row to be included in the function

#introducing for loops: 
for (i in 1:3) {        #i is the index, a:b is a vector with all integers from a to b inclusive
print(i)
}

# using the unique() function for printing the mean lengths of each species of iris:

for (i in unique(iris$Species)) {  #remembering that the column iris$Species is a factor (numerical) with labels (letters)
print(mean(iris$Sepal.Length[iris$Species == i]))
}

##making the above function more generic with a custom function
conditional.mean <- function(x,y) {
  for (i in unique(y)) {
    print(mean(x[i == y]))
  }
}

